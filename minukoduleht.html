<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.22/fullpage.min.css"
    integrity="sha512-i5IHYtHBVvbgT6M4ltVKNqF7fh/MTVfGh3ilW1gxxgmlMocsl8aYz28aF0Iph+ceUpun06UW9CpExog9qXqFKQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style/minuleht1.css">
</head>
<body>

  <ul id="menu">
    <li data-menuanchor="s1"><a href="#s1">Minu oskused</a></li>
    <li data-menuanchor="s2"><a href="#s2">Kontaktandmed</a></li>
    <li data-menuanchor="s3"><a href="#s3">Minu tehtud tööd</a></li>
    <li data-menuanchor="s4"><a href="#s4">Hobid</a></li>
    <li data-menuanchor="s5"><a href="#s5">Lemmikmuusika</a></li>
    <li data-menuanchor="s6"><a href="#s6">Mäng</a></li>
  </ul>

  <div id="fullpage">
    <div class="section s1">
      <div class="slide">
        <h1>Minu oskused</h1>
      </div>

      <div class="slide" data-anchor="slide1">
        <h1>Õppimisvõime</h1>
        <p>On olemas pidev soov ja motivatsioon õppida ning enesearengut taga ajada. Olen alati avatud uutele teadmisele!</p>
      </div>

      <div class="slide" data-anchor="slide2">
        <div class="upper-content">
          <h1>Kommunikatsioon</h1>
          <p>Hea oskus kuulata teisi tähelepanelikult ja empaatiaga, mõistes nende seisukohti ja tundeid ning reageerides asjakohaselt.</p>
        </div>
        <div class="lower-content">
          <h1>HTML/CSS</h1>
          <p>Meeldib kasutada kreatiivselt HTM ja CSS-i, et teha kasutajaliidese kasutamist palju atraktiivsem ja mugavam.</p>
        </div>
      </div>
      
      <div class="slide" data-anchor="slide3">
        <h1>.../h1>
      </div>
    </div>
  

    <div class="section s2">
      <div class="slide">
        <h1>Kontaktandmed</h1>
        <p class="opInfo">(Pane kursor andme peale)</p>
        <p class="contact" id="name">Nimi <span class="info">: Marina Kuznetsova</span></p>
        <p class="contact" id="email">Email <span class="info">: marinaa@tlu.ee</span></p>
        <p class="contact" id="phone">Telefoninumber <span class="info">: +37256880899</span></p>
      </div>
    </div>
        
    <div class="section s3">
      <h1>Minu tehtud tööd</h1>
      <p>Minu töö võib vaadata &nbsp;<a href="https://greeny.cs.tlu.ee/~marsova/veeb23/">siin</a>.
    </div>

    <div class="section s4">
      <h1 class="hobby-title">Hobid</h1>
      <div class="hobby-container">
        <div class="Hobby">
          <img src="images/hobby1.jpg" alt="Hobby1" width="350" height="350">
          <p>Joonistamine</p>
        </div>
        <div class="Hobby">
          <img src="images/hobby2.png" alt="Hobby2" width="350" height="350">
          <p>Foto</p>
        </div>
        <div class="Hobby">
          <img src="images/hobby3.jpg" alt="Hobby3" width="350" height="350">
          <p>Toiduvalmistamine</p>
        </div>
      </div>
    </div>
     

    <div class="section s5">
      <h1>Minu lemmikmuusika</h1>
      <iframe class= "framed" src="https://open.spotify.com/embed/playlist/63K7Wu3tlrSaJ12yDtn3Fv?si=7xys3JjRRAWUgKDtUz0m9w&pi=e-Kxp8zKDnQvSS" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
    </div>

    <div class="section s6">
      <div class="slide">
        <h1>Mäng</h1>
      </div>
    
      <div class="slide">
        <h1>Püüa punktid</h1>
        <div id="game-board"></div>
        <p>Score: <span id="score">0</span></p>
        <p>Time: <span id="timer">60</span> sec</p>
        <button class="button" id="start-button" onclick="startGame()">Start</button>
        <button class="restart-button" onclick="restartGame(event)">Restart</button>
      </div>
    
      <div class="slide">
        <h1>...</h1>
      </div>
    </div>
    


    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.22/fullpage.min.js"
    integrity="sha512-yHHLi2ZwgtW9QNVZd0asqMyWGJ6Kx73ijKlGWSi3MwYFB5ZzOJV8wPtopKr6muHk5SERgF3OB/2dZj3StlI34w=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.22/fullpage.extensions.min.js"
    integrity="sha512-fOlK0nmiY4Q7hrlnFMgmEiXBzCaDtIWFLCjPNwb5YN0PqcpburbfkSJ2UL+rcfdslRbNlDeml6t1Se9WLmRKjw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
    new fullpage("#fullpage", {
      autoScrolling: true,
      licenseKey: "gplv3-license",
      scrollHorizontally: true,
      navigation: true,
      controlArrows: false,
      slideNavigation: true,
      anchors: ['s1', 's2', 's3', 's4', 's5', 's6'],
      menu: '#menu',

      afterLoad: function(origin, destination, direction) {
          const activeSlide = destination.item;
          const activeSection = destination.anchor;
          const nextSlideIndex = activeSlide.index + 1;

          if (nextSlideIndex < activeSlide.slidesLength) {
            fullpage_api.silentMoveTo(activeSection, nextSlideIndex);
          } else {
            fullpage_api.silentMoveTo(activeSection + 1);
          }
      }
    });

    const slides = document.querySelectorAll('.slide');

          slides.forEach(slide => {
      slide.addEventListener('click', () => {
        // Проверяем, активна ли игра
        if (!gameActive) {
          const currentSection = slide.closest('.section');
          const nextSection = currentSection.nextElementSibling;
          if (nextSection) {
            fullpage_api.moveTo(nextSection.dataset.anchor);
          }
        }
      });
    });

      const gameBoard = document.getElementById('game-board');
      const scoreDisplay = document.getElementById('score');
      const timerDisplay = document.getElementById('timer');
      let score = 0;
      let timer = 60;
      let gameInterval;
      let gameActive = false;


      function getRandomNumber(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function clickHandler(event) {
        event.stopPropagation();
        if (gameActive) {
          const target = event.target;
          if (target && target.classList.contains('target')) {
            score++;
            scoreDisplay.textContent = score;
            gameBoard.removeChild(target);
            target.classList.remove('target');
            createTarget(); 
          }
        }
      }

      function createTarget() {
        const target = document.createElement('div');
        target.classList.add('target');
        const maxX = gameBoard.offsetWidth - 30;
        const maxY = gameBoard.offsetHeight - 30;
        const x = getRandomNumber(0, maxX); 
        const y = getRandomNumber(0, maxY); 
        target.style.left = x + 'px';
        target.style.top = y + 'px';
        gameBoard.appendChild(target);
        target.addEventListener('click', clickHandler);
      }

      function startGame() {
        gameBoard.innerHTML = '';
        score = 0;
        timer = 60;
        scoreDisplay.textContent = score;
        timerDisplay.textContent = timer;

        clearInterval(gameInterval);

        gameActive = true; 

        gameInterval = setInterval(() => {
          timer--;
          timerDisplay.textContent = timer;
          if (timer === 0) {
            clearInterval(gameInterval);
            alert('"Mäng on läbi! Teie tulemus: " ' + score);
            gameActive = false;
          }
        }, 1000);

        createTarget();

        gameBoard.addEventListener('click', (event) => {
          if (gameActive) {
            const target = event.target;
            if (target && target.classList.contains('target')) {
              score++;
              scoreDisplay.textContent = score;
              gameBoard.removeChild(target);
              createTarget();
            }
          }
        });
      }

      function restartGame(event) {
        event.stopPropagation();
        clearInterval(gameInterval); 
        gameActive = false; 
        score = 0;
        scoreDisplay.textContent = score; 
        startGame(); 
      }


      document.addEventListener('click', function(event) {
        const targetClassList = event.target.classList;
        const isGameButton = targetClassList.contains('button') || targetClassList.contains('restart-button');
        const isGameBoard = targetClassList.contains('target') || event.target.id === 'game-board';

        if (!isGameButton && !isGameBoard) {
          const currentSection = event.target.closest('.section');
          const nextSection = currentSection.nextElementSibling;
          if (nextSection) {
            fullpage_api.moveTo(nextSection.dataset.anchor);
          }
        }
      });

      document.getElementById('start-button').addEventListener('click', function(event) {
        event.stopPropagation(); // Предотвращаем всплытие события, чтобы оно не достигало обработчика событий fullPage.js
        startGame();
      });


    </script>
</body>
</html>
